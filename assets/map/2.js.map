{"version":3,"sources":["webpack:///./src/views/review/template.vue","webpack:///src/views/review/template.vue","webpack:///./src/views/review/template.vue?898e","webpack:///./src/views/review/template.vue?a8cf","webpack:///./src/views/review/template.vue?2a26"],"names":["component","Object","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","_template_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_1__","_template_vue_vue_type_template_id_00056174_scoped_true__WEBPACK_IMPORTED_MODULE_0__","__webpack_exports__","data","path","filters","name","addFormVisible","page","pageSize","pageSizes","listLoading","templates","pages","total","addTemplate","templateName","description","defaultTemplate","sels","addLoading","addFormRules","required","validator","rule","value","callback","re","RegExp","console","log","test","length","Error","trim","trigger","methods","format","row","column","alreadyConfig","formatDefault","getTemplates","needToSetPerson","_this","this","param","rows","func","ajaxPost","res","records","item","handleEdit","handleAdd","selsChange","$store","commit","sessionStorage","setItem","templateId","$router","push","batchRemove","_this2","ids","map","join","toString","$confirm","type","closeOnClickModal","then","params","templateIds","flag","$message","message","handleCurrentChange","val","handleSizeChange","addSubmit","_this3","$refs","addForm","validate","valid","_assign2","default","isRepeatedTemplate","url","assure","code","changeDefault","catch","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","_getIterator3","next","done","err","return","remove","index","_this4","setDefault","_this5","reminder","mounted","freshPage","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_template_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_0___default","render","_vm","_h","$createElement","_c","_self","staticStyle","padding-bottom","margin-top","attrs","span","inline","model","nativeOn","submit","$event","preventDefault","placeholder","keyup","_k","keyCode","key","$$v","$set","expression","_v","size","on","click","staticClass","directives","rawName","width","highlight-current-row","selection-change","prop","label","scopedSlots","_u","fn","scope","min-width","title","_s","formatter","$index","disabled","float","layout","page-sizes","page-size","current-change","size-change","visible","close-on-click-modal","update:visible","ref","label-width","rules","slot","loading","staticRenderFns"],"mappings":"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","file":"assets/js/chunks/2.65bd275086eccd79ae28.js","sourcesContent":["import { render, staticRenderFns } from \"./template.vue?vue&type=template&id=00056174&scoped=true\"\nimport script from \"./template.vue?vue&type=script&lang=js\"\nexport * from \"./template.vue?vue&type=script&lang=js\"\nimport style0 from \"./template.vue?vue&type=style&index=0&id=00056174&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00056174\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<section>\r\n\t\t<!--这是注释-->\r\n\t\t<!--工具条-->\r\n\t\t<el-col :span=\"24\"\r\n\t\t  style=\"padding-bottom: 0px;margin-top: 10px;\">\r\n\t\t\t<el-form :inline=\"true\"\r\n\t\t\t  :model=\"filters\"\r\n\t\t\t  @submit.native.prevent>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-input v-model=\"filters.name\"\r\n\t\t\t\t\t  placeholder=\"模板名\"\r\n\t\t\t\t\t  @keyup.enter.native=\"getTemplates(false)\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"primary\"\r\n\t\t\t\t\t  size=\"small\"\r\n\t\t\t\t\t  v-on:click=\"getTemplates(false)\">查询\r\n\t\t\t\t\t\t<i class=\"el-icon-search el-icon--right\"></i>\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"primary\"\r\n\t\t\t\t\t  size=\"small\"\r\n\t\t\t\t\t  @click=\"handleAdd\">新增\r\n\t\t\t\t\t\t<i class=\"el-icon-plus el-icon--right\"></i>\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</el-col>\r\n\t\t<hr/>\r\n\r\n\t\t<!--列表-->\r\n\t\t<el-table :data=\"templates\"\r\n\t\t  highlight-current-row\r\n\t\t  v-loading=\"listLoading\"\r\n\t\t  @selection-change=\"selsChange\"\r\n\t\t  style=\"width: 100%;\">\r\n\t\t\t<el-table-column type=\"selection\"\r\n\t\t\t  width=\"50\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"templateName\"\r\n\t\t\t  label=\"模板名\"\r\n\t\t\t  width=\"120\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span style=\"min-width:120px\"\r\n\t\t\t\t\t  v-bind:title=\"scope.row.templateName\"\r\n\t\t\t\t\t  class=\"tableEllipsis\">{{ scope.row.templateName }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"alreadyConfig\"\r\n\t\t\t  label=\"是否配置\"\r\n\t\t\t  width=\"120\"\r\n\t\t\t  :formatter=\"format\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"description\"\r\n\t\t\t  label=\"模板描述\"\r\n\t\t\t  width=\"120\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span style=\"min-width:120px\"\r\n\t\t\t\t\t  v-bind:title=\"scope.row.description\"\r\n\t\t\t\t\t  class=\"tableEllipsis\">{{ scope.row.description }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"createTime\"\r\n\t\t\t  label=\"创建时间\"\r\n\t\t\t  width=\"120\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"defaultTemplate\"\r\n\t\t\t  label=\"是否为默认模板\"\r\n\t\t\t  width=\"120\"\r\n\t\t\t  :formatter=\"formatDefault\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"lastUpdateTime\"\r\n\t\t\t  label=\"最后修改时间\"\r\n\t\t\t  min-width=\"120\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\"\r\n\t\t\t  width=\"300\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button size=\"small\"\r\n\t\t\t\t\t  @click=\"setDefault(scope.$index,scope.row)\">设为默认</el-button>\r\n\t\t\t\t\t<el-button size=\"small\"\r\n\t\t\t\t\t  @click=\"handleEdit(scope.row)\">配置</el-button>\r\n\t\t\t\t\t<el-button type=\"danger\"\r\n\t\t\t\t\t  size=\"small\"\r\n\t\t\t\t\t  @click=\"remove(scope.$index,scope.row)\">删除</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\r\n\t\t<!--工具条-->\r\n\t\t<el-col :span=\"24\"\r\n\t\t  style=\"margin-top: 10px;\">\r\n\t\t\t<el-button type=\"danger\"\r\n\t\t\t  @click=\"batchRemove\"\r\n\t\t\t  size=\"small\"\r\n\t\t\t  :disabled=\"this.sels.length===0\">批量删除</el-button>\r\n\t\t\t<el-pagination layout=\"total,sizes,prev, pager, next\"\r\n\t\t\t  @current-change=\"handleCurrentChange\"\r\n\t\t\t  @size-change=\"handleSizeChange\"\r\n\t\t\t  :total=\"total\"\r\n\t\t\t  :page-sizes=\"pageSizes\"\r\n\t\t\t  :page-size=\"pageSize\"\r\n\t\t\t  style=\"float:right;\">\r\n\t\t\t</el-pagination>\r\n\t\t</el-col>\r\n\r\n\t\t<!--新增界面-->\r\n\t\t<el-dialog title=\"新增\"\r\n\t\t  v-model=\"addFormVisible\"\r\n\t\t  :visible.sync=\"addFormVisible\"\r\n\t\t  :close-on-click-modal=\"false\">\r\n\t\t\t<el-form :model=\"addTemplate\"\r\n\t\t\t  label-width=\"120px\"\r\n\t\t\t  :rules=\"addFormRules\"\r\n\t\t\t  ref=\"addForm\">\r\n\t\t\t\t<el-form-item label=\"模板名\"\r\n\t\t\t\t  prop=\"templateName\">\r\n\t\t\t\t\t<el-input v-model=\"addTemplate.templateName\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"模板描述\"\r\n\t\t\t\t  prop=\"description\">\r\n\t\t\t\t\t<el-input v-model=\"addTemplate.description\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"是否为默认模板\">\r\n\t\t\t\t\t<el-radio-group v-model=\"addTemplate.defaultTemplate\">\r\n\t\t\t\t\t\t<el-radio class=\"radio\"\r\n\t\t\t\t\t\t  :label=\"true\">是</el-radio>\r\n\t\t\t\t\t\t<el-radio class=\"radio\"\r\n\t\t\t\t\t\t  :label=\"false\">否</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\"\r\n\t\t\t  class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click.native=\"addFormVisible = false\">取消</el-button>\r\n\t\t\t\t<el-button type=\"primary\"\r\n\t\t\t\t  @click.native=\"addSubmit\"\r\n\t\t\t\t  :loading=\"addLoading\">提交</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n\r\n    const validateName = (rule, value, callback) => {\r\n      const re = new RegExp(\"^[ a-zA-Z0-9_\\u4e00-\\u9fa5]+$\");\r\n      console.log(value);\r\n\r\n      if (!value) {\r\n        callback(new Error('请输入模板名'));\r\n      } else {\r\n        if (re.test(value)) {\r\n\r\n          if (value.length > 20) {\r\n            callback(new Error('模板名不得超过20个字符'));\r\n          } else {\r\n\r\n            if (value.trim()) {\r\n\r\n              callback();\r\n\r\n            } else {\r\n              callback(new Error('不能全为空格'));\r\n            }\r\n          }\r\n        } else {\r\n          callback(new Error('只允许输入中文、英文、数字、下划线及空格'));\r\n        }\r\n      }\r\n    };\r\n    return {\r\n      path: '/views/review/template',\r\n      filters: {\r\n        name: '',\r\n      },\r\n      addFormVisible: false,\r\n      page: 1,\r\n      pageSize: 10,\r\n      pageSizes: [10, 20, 30],\r\n      listLoading: false,\r\n      templates: [],\r\n      pages: 0,\r\n      total: 0,\r\n      addTemplate: {\r\n        templateName: '',\r\n        description: '',\r\n        defaultTemplate: false,\r\n      },\r\n      sels: [],\r\n      addLoading: false,\r\n      addFormRules: {\r\n        templateName: [\r\n          { required: true, validator: validateName, trigger: 'blur' }\r\n        ],\r\n\r\n      },\r\n\r\n\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    format: function (row, column) {\r\n      return row.alreadyConfig == false ? '否' : '是';\r\n    },\r\n    formatDefault: function (row, column) {\r\n      return row.defaultTemplate == false ? '否' : '是';\r\n    },\r\n    // needToSetPerson表示刷新后是否需要跳转到人员编辑页面\r\n    getTemplates(needToSetPerson) {\r\n      const param = {\r\n        page: this.page,\r\n        rows: this.pageSize,\r\n        templateName: this.filters.name,\r\n      };\r\n      this.listLoading = true;\r\n      const url = '/api/reviewFlowTemplate/queryReviewFlowTemplateByName';\r\n      this.func.ajaxPost(url, param, res => {\r\n        this.templates = res.data.records;\r\n        this.pages = res.data.pages;\r\n        this.total = res.data.total;\r\n        this.listLoading = false;\r\n        if (needToSetPerson) {\r\n          const item = this.templates[this.templates.length - 1];\r\n          this.handleEdit(item);\r\n        }\r\n      });\r\n    },\r\n    handleAdd() {\r\n      this.addFormVisible = true;\r\n      this.addTemplate = {\r\n        templateName: '',\r\n        description: '',\r\n        defaultTemplate: false,\r\n      }\r\n    },\r\n    selsChange(sels) {\r\n      this.sels = sels;\r\n    },\r\n    handleEdit: function (row) {\r\n      this.$store.commit('setCurPage', { 'path': this.path, 'page': this.page });\r\n\r\n      // let templateId = row.templateId;\r\n      // sessionStorage.setItem('templateId',this.sels[0].templateId);\r\n      sessionStorage.setItem('templateId', row.templateId);\r\n      this.$router.push('/setCheckors');\r\n      // this.$router.push({path:'setCheckors'});\r\n    },\r\n\r\n    // 批量删除\r\n    batchRemove: function () {\r\n      const ids = this.sels.map(item => item.templateId).join(\",\").toString();\r\n      this.$confirm('确认删除选中记录吗？', '提示', {\r\n        type: 'warning',\r\n        closeOnClickModal: false\r\n      }).then(() => {\r\n        this.listLoading = true;\r\n        const params = { templateIds: ids };\r\n        const url = '/api/reviewFlowTemplate/deleteByTemplateId';\r\n        this.func.ajaxPost(url, params, res => {\r\n          if (res.data.flag == true) {\r\n            this.$message({\r\n              message: '删除成功',\r\n              type: 'success'\r\n            });\r\n            this.listLoading = false;\r\n            this.getTemplates(false);\r\n          }\r\n        })\r\n      })\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.page = val;\r\n      this.getTemplates(false);\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.getTemplates(false);\r\n    },\r\n    addSubmit: function () {\r\n\r\n      this.$refs.addForm.validate((valid) => {\r\n        if (valid) {\r\n          const param = Object.assign({}, this.addTemplate);\r\n          if (this.isRepeatedTemplate(param)) {\r\n            this.$message({\r\n              message: '模板名不能重复',\r\n            })\r\n          } else {\r\n            this.addLoading = true;\r\n            const url = '/api/reviewFlowTemplate/addReviewFlowTemplate';\r\n            param.assure = \"no\";\r\n            this.func.ajaxPost(url, param, res => {\r\n              if (res.data.code == 200) {\r\n                if (!res.data.changeDefault) {\r\n                  this.addLoading = false;\r\n                  this.addFormVisible = false;\r\n                  this.$message({\r\n                    message: '提交成功！',\r\n                    type: 'success',\r\n                  })\r\n                  if (this.addTemplate.defaultTemplate) {\r\n                    this.getTemplates(true);\r\n                  } else {\r\n                    this.getTemplates(false);\r\n                  }\r\n\r\n                } else {\r\n                  this.$confirm('已经存在默认模板，要替换吗？', '提示', {\r\n                    type: 'info',\r\n                    closeOnClickModal: false\r\n                  }).then(() => {\r\n                    param.assure = \"yes\";\r\n                    this.func.ajaxPost(url, param, res => {\r\n                      if (res.data.code === 200 && !res.data.changeDefault) {\r\n                        this.addLoading = false;\r\n                        this.addFormVisible = false;\r\n                        this.$message({\r\n                          message: '提交成功！',\r\n                          type: 'success',\r\n                        })\r\n                        if (this.addTemplate.defaultTemplate) {\r\n                          this.getTemplates(true);\r\n                        } else {\r\n                          this.getTemplates(false);\r\n                        }\r\n                      }\r\n                    })\r\n                  })\r\n                    .catch(() => {\r\n                      this.addLoading = false;\r\n                    })\r\n                }\r\n\r\n              }\r\n            })\r\n          }\r\n        }\r\n\r\n      });\r\n    },\r\n    isRepeatedTemplate(param) {\r\n      let flag = false;\r\n      for (const name of this.templates) {\r\n        if (name.templateName === param.templateName) {\r\n          flag = true;\r\n          break;\r\n        }\r\n      }\r\n      return flag;\r\n    },\r\n    remove: function (index, row) {\r\n      this.$confirm('确认删除选中记录吗？', '提示', {\r\n        type: 'warning',\r\n        closeOnClickModal: false\r\n      }).then(() => {\r\n        this.listLoading = true;\r\n        const params = { templateIds: row.templateId };\r\n        const url = '/api/reviewFlowTemplate/deleteByTemplateId';\r\n        this.func.ajaxPost(url, params, res => {\r\n          if (res.data.flag == true) {\r\n            this.$message({\r\n              message: '删除成功',\r\n              type: 'success'\r\n            });\r\n            this.listLoading = false;\r\n            this.getTemplates(false);\r\n          }\r\n        })\r\n      });\r\n    },\r\n    setDefault: function (index, row) {\r\n      if (!row.alreadyConfig) {\r\n        this.$message({\r\n          message: '未配置人员，不能设为默认模板',\r\n        })\r\n      } else {\r\n        const param = { templateId: row.templateId };\r\n        const url = '/api/reviewFlowTemplate/setDefault';\r\n        param.assure = \"no\";\r\n        this.func.ajaxPost(url, param, res => {\r\n          if (res.data.code === 200) {\r\n            if (!res.data.reminder) {\r\n              this.$message({\r\n                message: '设置成功',\r\n                type: 'success'\r\n              });\r\n              this.listLoading = false;\r\n              this.getTemplates(false);\r\n            } else {\r\n              this.$confirm('已经存在默认模板，要替换吗？', '提示', {\r\n                type: 'info',\r\n                closeOnClickModal: false\r\n              }).then(() => {\r\n                param.assure = \"yes\";\r\n                this.func.ajaxPost(url, param, res => {\r\n                  if (res.data.code === 200) {\r\n                    this.$message({\r\n                      message: '设置成功',\r\n                      type: 'success'\r\n                    });\r\n                    this.listLoading = false;\r\n                    this.getTemplates(false);\r\n                  }\r\n                })\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.page = this.func.freshPage(this.path, this.page);\r\n    this.getTemplates(false);\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./template.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./template.vue?vue&type=script&lang=js\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-col',{staticStyle:{\"padding-bottom\":\"0px\",\"margin-top\":\"10px\"},attrs:{\"span\":24}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.filters},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"模板名\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.getTemplates(false)}},model:{value:(_vm.filters.name),callback:function ($$v) {_vm.$set(_vm.filters, \"name\", $$v)},expression:\"filters.name\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.getTemplates(false)}}},[_vm._v(\"查询\\n\\t\\t\\t\\t\\t\"),_c('i',{staticClass:\"el-icon-search el-icon--right\"})])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增\\n\\t\\t\\t\\t\\t\"),_c('i',{staticClass:\"el-icon-plus el-icon--right\"})])],1)],1)],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.templates,\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.selsChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"templateName\",\"label\":\"模板名\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"tableEllipsis\",staticStyle:{\"min-width\":\"120px\"},attrs:{\"title\":scope.row.templateName}},[_vm._v(_vm._s(scope.row.templateName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alreadyConfig\",\"label\":\"是否配置\",\"width\":\"120\",\"formatter\":_vm.format}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"模板描述\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"tableEllipsis\",staticStyle:{\"min-width\":\"120px\"},attrs:{\"title\":scope.row.description}},[_vm._v(_vm._s(scope.row.description))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"defaultTemplate\",\"label\":\"是否为默认模板\",\"width\":\"120\",\"formatter\":_vm.formatDefault}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"lastUpdateTime\",\"label\":\"最后修改时间\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.setDefault(scope.$index,scope.row)}}},[_vm._v(\"设为默认\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleEdit(scope.row)}}},[_vm._v(\"配置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){_vm.remove(scope.$index,scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"span\":24}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\",\"disabled\":this.sels.length===0},on:{\"click\":_vm.batchRemove}},[_vm._v(\"批量删除\")]),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"total,sizes,prev, pager, next\",\"total\":_vm.total,\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.pageSize},on:{\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.addFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.addFormVisible=$event}},model:{value:(_vm.addFormVisible),callback:function ($$v) {_vm.addFormVisible=$$v},expression:\"addFormVisible\"}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addTemplate,\"label-width\":\"120px\",\"rules\":_vm.addFormRules}},[_c('el-form-item',{attrs:{\"label\":\"模板名\",\"prop\":\"templateName\"}},[_c('el-input',{model:{value:(_vm.addTemplate.templateName),callback:function ($$v) {_vm.$set(_vm.addTemplate, \"templateName\", $$v)},expression:\"addTemplate.templateName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"模板描述\",\"prop\":\"description\"}},[_c('el-input',{model:{value:(_vm.addTemplate.description),callback:function ($$v) {_vm.$set(_vm.addTemplate, \"description\", $$v)},expression:\"addTemplate.description\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否为默认模板\"}},[_c('el-radio-group',{model:{value:(_vm.addTemplate.defaultTemplate),callback:function ($$v) {_vm.$set(_vm.addTemplate, \"defaultTemplate\", $$v)},expression:\"addTemplate.defaultTemplate\"}},[_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":true}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":false}},[_vm._v(\"否\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.addFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.addLoading},nativeOn:{\"click\":function($event){return _vm.addSubmit($event)}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./template.vue?vue&type=style&index=0&id=00056174&scoped=true&lang=css\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./template.vue?vue&type=style&index=0&id=00056174&scoped=true&lang=css\""],"sourceRoot":""}